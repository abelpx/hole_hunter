# HoleHunter 产品需求文档 (PRD)

## 1. 产品概述

### 1.1 产品定义

HoleHunter 是一款面向安全研究人员的桌面漏洞扫描工具，用户可以通过简单的界面配置目标、执行扫描、查看结果，无需记忆复杂的命令行参数。

### 1.2 解决的问题

| 用户痛点 | 解决方案 |
|---------|---------|
| Nuclei 命令行操作复杂，参数难记 | 图形化界面，可视化配置 |
| 扫描结果分散，难以管理 | 集中存储，支持筛选和搜索 |
| 无历史记录，无法追溯 | 本地数据库，完整记录扫描历史 |
| 需要联网使用云端工具 | 内置扫描器，完全离线可用 |
| 多个工具来回切换 | 一站式工具集，集成常用功能 |

### 1.3 目标用户

| 用户类型 | 典型场景 | 核心诉求 |
|---------|---------|---------|
| 个人安全研究者 | 日常漏洞挖掘、SRC 产出 | 快速、准确、易用 |
| 渗透测试工程师 | 渗透测试辅助 | 多功能集成、结果可导出 |
| 中小企业安全团队 | 内部安全巡检 | 资产管理、批量扫描 |
| 开发者 | 上线前自测 | 简单直观，无需安全背景 |

### 1.4 非目标用户

- 大型企业（需要团队协作、权限管理）
- 安全初学者（缺乏基础安全知识）
- 追求极致自动化的人群（建议使用 CI/CD 集成）

---

## 2. 用户场景

### 2.1 核心使用流程

**基础流程**：添加目标 → 配置扫描 → 查看结果 → 导出报告/标记误报

**扩展流程**（配合资产发现）：域名爆破 → 端口扫描 → 添加存活资产 → 漏洞扫描

### 2.2 典型场景

#### 场景 1：快速扫描单站点
**用户**: 安全研究员小王
**目标**: 快速检查目标站点是否存在常见漏洞

1. 打开 HoleHunter，点击"添加目标"
2. 输入站点 URL，保存
3. 选择"快速扫描"策略，点击启动
4. 实时查看扫描进度
5. 扫描完成后，查看发现的漏洞列表
6. 点击漏洞详情，验证是否真实
7. 标记误报，导出真实漏洞

#### 场景 2：批量资产巡检
**用户**: 某公司安全团队
**目标**: 对公司所有子域名进行安全检查

1. 手动添加或从文件导入多个目标
2. 逐个创建扫描任务，选择"深度扫描"策略
3. 在扫描页面批量启动任务
4. 在仪表板查看整体进度和统计
5. 扫描完成后，按严重级别筛选漏洞
6. 导出漏洞数据（当前支持 JSON），手动生成报告发送给相关团队

**注**：批量导入、一键批量扫描、PDF 报告生成功能在计划版本（v0.5.0）中实现。

#### 场景 3：漏洞验证
**用户**: 渗透测试工程师
**目标**: 验证某漏洞是否真实存在

1. 使用"工具箱"中的 HTTP 请求工具
2. 自定义请求包，手动测试
3. 记录测试结果，作为报告素材

#### 场景 4：资产发现与枚举
**用户**: 安全研究员
**目标**: 发现目标域名的子域名和开放端口

1. 添加目标域名
2. 使用"域名爆破"功能发现子域名
3. 对发现的域名批量执行"端口扫描"
4. 识别开放的服务和端口
5. 将存活资产添加到目标列表
6. 针对资产执行漏洞扫描

#### 场景 5：弱口令检测
**用户**: 渗透测试工程师
**目标**: 检测目标系统的认证弱口令

1. 使用"HTTP 请求工具"抓取登录请求
2. 分析认证方式（Basic Auth / 表单）
3. 使用"暴力破解"功能，选择对应模式
4. 配置用户名/密码字典
5. 启动爆破任务，监控进度
6. 成功后保存凭证用于后续测试

---

## 3. 功能需求

### 3.1 功能优先级

| 优先级 | 功能模块 | 说明 |
|-------|---------|------|
| P0 | 目标管理 | 基础功能，必须稳定 |
| P0 | 扫描任务 | 核心功能，必须可用 |
| P0 | 漏洞查看 | 结果呈现，必须准确 |
| P1 | 资产发现 | 端口扫描、域名爆破 |
| P1 | 仪表板 | 数据概览，提升体验 |
| P1 | 工具箱 | 辅助功能，方便集成 |
| P1 | 暴力破解 | 认证爆破、表单爆破 |
| P2 | 场景管理 | 模板组合管理 |
| P2 | 报告导出 | 交付需求，后期实现 |
| P3 | 插件系统 | 扩展能力，长期规划 |

### 3.2 MVP 功能 (v0.3.0 已完成)

#### 3.2.1 目标管理
- 添加/编辑/删除目标
- 目标列表展示
- 标签分类

**验收标准**:
- 能正常添加目标
- 目标信息正确保存
- 删除后无法扫描

#### 3.2.2 扫描任务
- 创建扫描任务
- 选择扫描策略（快速/深度/自定义）
- 启动/停止扫描
- 进度实时显示

**验收标准**:
- 扫描能正常启动
- 进度准确反映扫描状态
- 停止后任务终止

#### 3.2.3 漏洞查看
- 漏洞列表展示
- 按严重级别分类
- 漏洞详情查看
- 标记误报

**验收标准**:
- 漏洞信息完整展示
- 误报标记后不再统计

#### 3.2.4 资产发现
- 端口扫描（TCP/UDP）
- 域名爆破（子域名发现）
- 扫描结果管理

**验收标准**:
- 端口扫描能正确识别开放端口
- 域名爆破能发现存活子域名
- 结果可导出

#### 3.2.5 暴力破解
- HTTP 基本认证爆破
- 表单认证爆破
- 自定义载荷集
- 进度监控

**验收标准**:
- 能正常执行爆破任务
- 支持自定义字典
- 成功结果准确显示

#### 3.2.6 工具箱
- HTTP 请求测试
- 编码/解码工具
- 哈希计算
- 时间戳转换

**验收标准**:
- 工具能正常使用
- 结果准确返回

### 3.3 计划功能

#### v0.4.0 - 体验优化
- 实时进度可视化（当前只显示百分比）
- 漏洞详情页优化（请求/响应高亮）
- 扫描日志实时输出

#### v0.5.0 - 报告导出
- 多格式导出（JSON/CSV/HTML/PDF）
- 扫描报告生成
- 批量操作（批量删除、批量扫描）

#### v0.6.0 - 场景管理
- 自定义扫描场景（模板组合）
- 场景分类和标签
- 一键执行场景
- 场景模板市场（可选）

#### v1.0.0 - 高级功能
- 自定义 POC 编辑器
- 定时扫描
- 团队协作（服务版）

---

## 4. 交互设计

### 4.1 导航结构

左侧边栏提供主导航：仪表板、目标、扫描、漏洞、模板、工具、报告、设置。

主要功能入口：
- 目标页面 → 启动扫描 / 端口扫描 / 域名爆破
- 工具页面 → HTTP 请求 / 暴力破解 / 编码工具

### 4.2 关键交互

#### 启动扫描
1. 用户在目标列表点击"扫描"
2. 弹出扫描配置对话框
3. 选择策略后点击"启动"
4. 按钮变为"停止"，进度条出现
5. 扫描完成后，进度条消失，显示"完成"

#### 查看漏洞
1. 用户点击漏洞列表中的某条记录
2. 右侧滑出详情面板
3. 展示请求/响应、CVE 信息、修复建议
4. 可标记误报、添加备注

#### 资产发现
1. 用户在目标页面选择"端口扫描"或"域名爆破"
2. 配置扫描参数（端口范围、字典选择）
3. 启动任务，实时显示发现的资产
4. 一键将存活资产添加到目标列表

#### 暴力破解
1. 用户从"工具箱"进入"暴力破解"
2. 选择破解类型（Basic Auth / 表单）
3. 配置目标 URL 和载荷集
4. 启动爆破，监控成功次数
5. 查看爆破结果，保存成功凭证

---

## 5. 数据与指标

### 5.1 核心数据指标

| 指标 | 说明 | 目标 |
|------|------|------|
| 扫描成功率 | 扫描任务正常完成的比例 | > 95% |
| 漏洞准确率 | 真实漏洞占比 | > 70% |
| 日活用户 | 每天使用的人数 | 待统计 |
| 扫描次数 | 每天执行的扫描任务数 | 待统计 |

### 5.2 用户行为数据

- 目标添加来源（手动/导入）
- 扫描策略偏好（快速/深度/自定义）
- 常用工具排序
- 漏洞误报率

---

## 6. 竞品分析

### 6.1 vs DudeSuite

| 维度 | DudeSuite | HoleHunter |
|------|-----------|------------|
| 价格 | 付费 | 免费开源 |
| 扫描引擎 | 闭源 | Nuclei（社区维护） |
| 数据存储 | 封闭 | 开放（SQLite） |
| 扩展性 | 低 | 高（可自定义模板） |
| 学习成本 | 中 | 低 |

### 6.2 vs Nuclei CLI

| 维度 | Nuclei CLI | HoleHunter |
|------|------------|------------|
| 操作方式 | 命令行 | 图形界面 |
| 学习成本 | 高 | 低 |
| 历史记录 | 无 | 有 |
| 结果管理 | 手动 | 自动 |
| 适用场景 | 自动化/批量 | 日常使用 |

---

## 7. 成功标准

### 7.1 产品成功指标

- [ ] 新用户首次扫描成功率 > 90%（5 分钟内完成首次扫描）
- [ ] 扫描结果与 Nuclei CLI 一致性 = 100%
- [ ] 崩溃率 < 1%（按扫描次数统计）
- [ ] 用户周活跃使用率 > 40%（安装后一周内仍有使用）

### 7.2 功能完整性

- [ ] MVP 功能全部可用且稳定
- [ ] 无阻塞性 Bug（影响主流程的 Bug）
- [ ] 关键流程有错误处理和用户提示
- [ ] P1 功能测试覆盖率 >= 80%

### 7.3 性能标准

- [ ] 应用启动时间 < 3 秒
- [ ] 扫描启动响应 < 1 秒（点击启动到进度显示）
- [ ] 大数据量（1000+ 漏洞）列表滚动流畅
- [ ] 同时运行 5 个扫描任务不卡顿

---

## 8. 风险与边界

### 8.1 产品风险

| 风险 | 影响 | 应对 |
|------|------|------|
| Nuclei 模板质量问题 | 误报率高 | 支持自定义模板、误报标记 |
| 用户操作不当 | 扫描非授权目标 | 添加免责声明 |
| 性能瓶颈 | 大规模扫描卡顿 | 限制并发数、提示用户 |

### 8.2 产品边界

**不覆盖的场景**:
- 自动化批量扫描（建议用 Nuclei CLI + 脚本）
- 大规模资产扫描（目标数量 > 500）
- 团队协作管理（规划 v1.0+）
- 云端扫描（定位为本地工具）
- 漏洞修复（只发现不修复）
- 复杂认证流程的暴力破解（支持简单字典爆破）

**批量扫描限制说明**：
- 当前版本支持同时运行多个扫描任务
- 需要手动逐个启动，无一键批量启动功能
- 建议单次扫描目标数不超过 50 个，避免性能问题

### 8.3 合规要求

- 添加用户免责声明
- 扫描前提示确认目标
- 不鼓励扫描非授权系统

---

## 9. 版本计划

| 版本 | 时间 | 核心目标 |
|------|------|---------|
| v0.3.0 | ✅ 已完成 | MVP 功能（扫描、漏洞查看、资产发现、暴力破解） |
| v0.4.0 | Q1 2026 | 体验优化 |
| v0.5.0 | Q2 2026 | 报告导出 |
| v0.6.0 | Q2 2026 | 场景管理 |
| v1.0.0 | Q3 2026 | 功能完整版 |

---

## 10. 附录

### 10.1 术语表

- **Nuclei**: 基于 YAML 模板的漏洞扫描工具
- **POC**: Proof of Concept，概念验证
- **模板**: Nuclei 的扫描规则文件
- **场景**: 一组模板的组合，用于特定扫描目标
- **载荷集**: 暴力破解使用的用户名/密码字典
- **资产发现**: 通过端口扫描、域名爆破等方式发现目标系统

**文档维护**：本 PRD 是产品的唯一真相来源，所有功能开发和优先级决策都应以此为准。技术实现细节请参考 [API.md](API.md) 文档。
